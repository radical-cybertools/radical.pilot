
# this is the OSG agent config.  It is very similar to the default config, 
# but forces te ZMQ bridges to bind to the local network interface 'lo'.

{
    "scheduler"            : "CONTINUOUS",
    "spawner"              : "POPEN",
    "task_launch_method"   : "FORK",
    "mpi_launch_method"    : "MPIRUN",
    "max_io_loglength"     : 1024,
    "bulk_collection_size" :  100,
    "bulk_collection_time" : 1.0,
    "network_interface"    : "lo",

    "target" : "local",
    "mode"   : "shared",

    "bridges" : {
        "agent_staging_input_queue" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },
        "agent_scheduling_queue" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },
        "agent_executing_queue" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },
        "agent_staging_output_queue" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },

        "agent_unschedule_pubsub" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },
        "agent_schedule_pubsub" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },
        "log_pubsub" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },
        "state_pubsub" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        },
        "control_pubsub" : {
            "log_level" : "error",
            "stall_hwm" : 1,
            "bulk_size" : 0
        }
    },

    "components" : {
        "AgentStagingInputComponent"  : {"count" : 1},
        "AgentSchedulingComponent"    : {"count" : 1},
        "AgentExecutingComponent"     : {"count" : 1},
        "AgentStagingOutputComponent" : {"count" : 1}
    }
}

